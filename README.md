# rtf-readme README

This project contains two parts: vscode extension named "rtf-README" and cli named "rtfr".

This project is used to hint users to read README files when they read or change the files that the README has some information for.

To test this project, create a project. Add a README.md and "README pattern"(the format is shown below) into the README.md. Then commit the README file by user 'A'. Then, use user 'B' which is different from user 'A'.

- To test exetions, open the file in vscode that is contained in "README pattern" added in the README.md previously. Check whether the extension hints you.
- To test CLI, you use the command to check whether the CLI would report errors about the README.md and the files contained in "README pattern".

## Features

#### README pattern format:

[1] `<!-- README packages/**/*.ts -->`

[2]

```
  <!-- README
       packages/**/*.ts
       packages/**/*.tsx
  -->
```

### 1. Vscode extension.

This extension is used to help users find the situation that files are changed but the README concerning this file is not read.

To use this extension, firstly, you should use subcommand "serve" of the CLI provided by the package [rtf-readme](https://www.npmjs.com/package/rtf-readme) to run a server. And secondly, you should use subcommand "init" to create a config file named ".rtfrrc". The token you need when using subcommand "init" can be generated by subcommand "new" or subcommand "serve" followed by "-g".

### 2. CLI

The CLI program is used to find files changed by certain user while the relavant README is not read.

#### Usage Example:

[1] `rtfr check`

This is used to find the README which is not read while it needs to be read. A config file '.rtfrrc' is needed before executing this subcommand.

[2] `rtfr read dir/README.md`

This means you've read dir/README.md. A config file '.rtfrrc' is needed before executing this subcommand.

[3] `rtfr init`

This subcommand is used to create a config file named ".rtfrrc" needed by extension and cli. You'd better run subcommand "serve" on the server side before executing this command.

You can also create ".rtfrrc" manually, the format is shown below.

```
{
  "init": The commit which you want the check command searchs from,
  "server": Server config, the format is "xxx.xxx.xxx.xxx:ddddd",
  "token": What you can get by subcommand "serve" or "new"
}
```

[4] `rtfr serve 10000 -g`

This subcommand is used to run a server, which is for centralizing the infos of users' reading of READMEs.

This subcommand will show you a token if "-g" is followed.

[5] `rtfr new`

This subcommand will show you a token.

Notice, this subcommand cannot be executed when the "serve" subcommand is excuting, as the leveldb cannot be accessed by two programs at the same time.

## Requirements

As the CLI is dependent on "level" (the js version of leveldb), you are suggested to run CLI under Linux/WSL/MacOS.

## Extension Settings

None.

## Known Issues

#### 1. `Computer becomes hot.`

This could be the result of error "System limit for number of file watchers reached".

## Release Notes
